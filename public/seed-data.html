<!DOCTYPE html>
<html>
<head>
    <title>데모 데이터 생성</title>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, addDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // Firebase 설정 (실제 값으로 교체 필요)
        const firebaseConfig = {
            apiKey: "AIzaSyBXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX", // 실제 API 키로 교체
            authDomain: "jaeman-vibe-platform.firebaseapp.com",
            projectId: "jaeman-vibe-platform",
            storageBucket: "jaeman-vibe-platform.firebasestorage.app",
            messagingSenderId: "123456789",
            appId: "1:123456789:web:demo"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        async function createDemoPost() {
            try {
                const ref = await addDoc(collection(db, "posts"), {
                    title: "FC88 공식 블로그 오픈 🎉",
                    content: "FC88 팀 공식 블로그가 오픈되었습니다!\n앞으로 이곳에서 팀 소식, 경기 일정, 선수 인터뷰, 훈련 후기 등을 공유할 예정입니다.\n많은 관심과 구독 부탁드립니다 🙌",
                    authorUid: "demo-admin",
                    authorName: "관리자 FC88",
                    authorIcon: "https://placehold.co/100x100?text=FC88",
                    createdAt: Date.now(),
                    updatedAt: Date.now(),
                    tags: ["공지", "FC88", "블로그오픈"],
                    likes: 0,
                    views: 0,
                });

                document.getElementById('result').innerHTML = `
                    <h2 style="color: green;">✅ 성공!</h2>
                    <p><strong>데모 포스트가 생성되었습니다!</strong></p>
                    <p><strong>문서 ID:</strong> ${ref.id}</p>
                    <p><a href="http://localhost:5183/posts/${ref.id}" target="_blank" style="background: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">게시글 보기</a></p>
                `;
            } catch (err) {
                document.getElementById('result').innerHTML = `
                    <h2 style="color: red;">❌ 오류</h2>
                    <p><strong>오류:</strong> ${err.message}</p>
                    <p><strong>해결방법:</strong> Firebase 설정을 확인하거나 Firebase Console에서 직접 생성하세요.</p>
                `;
            }
        }

        window.createDemoPost = createDemoPost;
    </script>
</head>
<body style="font-family: Arial, sans-serif; max-width: 800px; margin: 50px auto; padding: 20px;">
    <h1>🚀 데모 데이터 생성</h1>
    <p>이 페이지에서 Firebase Firestore에 데모 블로그 포스트를 생성할 수 있습니다.</p>
    
    <button onclick="createDemoPost()" style="background: #28a745; color: white; padding: 15px 30px; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;">
        📝 데모 포스트 생성하기
    </button>
    
    <div id="result" style="margin-top: 20px; padding: 20px; border: 1px solid #ddd; border-radius: 5px; background: #f9f9f9;">
        버튼을 클릭하여 데모 포스트를 생성하세요.
    </div>
    
    <div style="margin-top: 30px; padding: 20px; background: #e9ecef; border-radius: 5px;">
        <h3>📋 수동 생성 방법 (Firebase Console)</h3>
        <ol>
            <li>Firebase Console → Firestore Database 이동</li>
            <li>컬렉션 시작 → posts 입력</li>
            <li>문서 ID: 자동 생성</li>
            <li>필드 추가:
                <ul>
                    <li>title (문자열): FC88 공식 블로그 오픈 🎉</li>
                    <li>content (문자열): FC88 팀 공식 블로그가 오픈되었습니다!...</li>
                    <li>authorUid (문자열): demo-admin</li>
                    <li>authorName (문자열): 관리자 FC88</li>
                    <li>authorIcon (문자열): https://placehold.co/100x100?text=FC88</li>
                    <li>createdAt (숫자): 1703123456789</li>
                    <li>updatedAt (숫자): 1703123456789</li>
                    <li>tags (배열): ["공지", "FC88", "블로그오픈"]</li>
                    <li>likes (숫자): 0</li>
                    <li>views (숫자): 0</li>
                </ul>
            </li>
            <li>저장</li>
        </ol>
    </div>
</body>
</html>
