<!DOCTYPE html>
<html>
<head>
    <title>Seed Demo Post</title>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, addDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // Firebase ì„¤ì • (ì‹¤ì œ ê°’ìœ¼ë¡œ êµì²´ í•„ìš”)
        const firebaseConfig = {
            apiKey: "your-api-key",
            authDomain: "your-project.firebaseapp.com",
            projectId: "your-project-id",
            storageBucket: "your-project.appspot.com",
            messagingSenderId: "123456789",
            appId: "1:123456789:web:demo"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        async function seedDemoPost() {
            try {
                // 1) ë°ëª¨ í¬ìŠ¤íŠ¸ ìƒì„±
                const ref = await addDoc(collection(db, "posts"), {
                    title: "FC88 ê³µì‹ ë¸”ë¡œê·¸ ì˜¤í”ˆ ğŸ‰",
                    content: "FC88 íŒ€ ê³µì‹ ë¸”ë¡œê·¸ê°€ ì˜¤í”ˆë˜ì—ˆìŠµë‹ˆë‹¤!\nì•ìœ¼ë¡œ ì´ê³³ì—ì„œ íŒ€ ì†Œì‹, ê²½ê¸° ì¼ì •, ì„ ìˆ˜ ì¸í„°ë·°, í›ˆë ¨ í›„ê¸° ë“±ì„ ê³µìœ í•  ì˜ˆì •ì…ë‹ˆë‹¤.\në§ì€ ê´€ì‹¬ê³¼ êµ¬ë… ë¶€íƒë“œë¦½ë‹ˆë‹¤ ğŸ™Œ",
                    authorUid: "demo-admin",
                    authorName: "ê´€ë¦¬ì FC88",
                    authorIcon: "https://placehold.co/100x100?text=FC88",
                    createdAt: Date.now(),
                    updatedAt: Date.now(),
                    tags: ["ê³µì§€", "FC88", "ë¸”ë¡œê·¸ì˜¤í”ˆ"],
                    likes: 0,
                    views: 0,
                });

                // 2) ëŒ“ê¸€ ìƒ˜í”Œ ì¶”ê°€
                const commentsCol = collection(db, "posts", ref.id, "comments");
                await addDoc(commentsCol, {
                    content: "FC88 í™”ì´íŒ…! ì•ìœ¼ë¡œ ê¸€ ê¸°ëŒ€í• ê²Œìš” ğŸ™Œ",
                    authorUid: "user-001",
                    authorName: "í™ê¸¸ë™",
                    authorIcon: "https://placehold.co/50x50?text=H",
                    createdAt: Date.now(),
                });
                await addDoc(commentsCol, {
                    content: "ê³µì‹ ë¸”ë¡œê·¸ ì˜¤í”ˆ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤ ğŸ‘",
                    authorUid: "user-002",
                    authorName: "ê¹€ì² ìˆ˜",
                    authorIcon: "https://placehold.co/50x50?text=K",
                    createdAt: Date.now() + 1000,
                });

                console.log("âœ… Demo post created:", ref.id);
                document.getElementById('result').innerHTML = `
                    <h2>âœ… ì„±ê³µ!</h2>
                    <p>Demo post created: ${ref.id}</p>
                    <p>ëŒ“ê¸€ 2ê°œë„ í•¨ê»˜ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!</p>
                    <p><a href="http://localhost:5183/posts/${ref.id}" target="_blank">ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸</a></p>
                `;
            } catch (err) {
                console.error("âŒ Error:", err);
                document.getElementById('result').innerHTML = `
                    <h2>âŒ ì˜¤ë¥˜</h2>
                    <p>ë°ëª¨ ë°ì´í„° ìƒì„± ì‹¤íŒ¨: ${err.message}</p>
                `;
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ì‹¤í–‰
        window.onload = seedDemoPost;
    </script>
</head>
<body>
    <h1>Seed Demo Post</h1>
    <div id="result">ì‹¤í–‰ ì¤‘...</div>
</body>
</html>
