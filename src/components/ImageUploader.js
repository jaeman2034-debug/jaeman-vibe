import { useRef } from "react";
export default function ImageUploader({ value, onChange, multiple = false, label = "?��?지 ?�로??(?�래�??�롭 / ?�릭)" }) { const inputRef = useRef(null); const onInput = (e) => { const files = Array.from(e.target.files ?? []); console.log("[IMAGE_UPLOADER] files selected:", files.length); const next = files.map(f => ({ file: f, preview: URL.createObjectURL(f) })); onChange([...value, ...next]); }; } // ⬅️ 부모로 ?�려보냄  };  const onDrop = (e: React.DragEvent) => {    e.preventDefault();    const files = Array.from(e.dataTransfer.files ?? []);    console.log("[IMAGE_UPLOADER] files dropped:", files.length);    const next = files.map(f => ({ file: f, preview: URL.createObjectURL(f) }));    onChange([...value, ...next]);          // ⬅️ 부모로 ?�려보냄  };  const removeFile = (index: number) => {    const next = value.filter((_, i) => i !== index);    onChange(next);  };  return (    <div      className="rounded-xl border border-dashed border-slate-300 p-6 text-center"      onDragOver={(e) => e.preventDefault()}      onDrop={onDrop}    >      <input        ref={inputRef}        type="file"        accept="image/*"        multiple={multiple}        className="hidden"        onChange={onInput}      />      <button         type="button"         className="btn-ghost"         onClick={() => inputRef.current?.click()}      >        {label}      </button>      {value.length > 0 && (        <div className="mt-4 grid grid-cols-3 gap-3">          {value.map((f, i) => (            <div key={i} className="rounded-xl overflow-hidden border relative">              <img src={f.preview} className="h-24 w-full object-cover" alt="" />              <button                type="button"                onClick={() => removeFile(i)}                className="absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 text-sm hover:bg-red-600"              >                ×              </button>            </div>          ))}        </div>      )}    </div>  );}
