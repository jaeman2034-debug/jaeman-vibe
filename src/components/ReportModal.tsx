import React, { useState } from 'react';import { reportUser, REPORT_REASONS } from '@/services/reportService';interface ReportModalProps {  targetId: string;  targetName?: string;  isOpen: boolean;  onClose: () => void;  onReportSubmitted?: () => void;}export default function ReportModal({   targetId,   targetName = '?¬ìš©??,   isOpen,   onClose,   onReportSubmitted }: ReportModalProps) {  const [reason, setReason] = useState('');  const [context, setContext] = useState('');  const [loading, setLoading] = useState(false);  const handleSubmit = async (e: React.FormEvent) => {    e.preventDefault();        if (!reason) {      alert('? ê³  ?¬ìœ ë¥?? íƒ?´ì£¼?¸ìš”.');      return;    }    try {      setLoading(true);            await reportUser(targetId, reason, context);            alert('? ê³ ê°€ ?‘ìˆ˜?˜ì—ˆ?µë‹ˆ??');      onReportSubmitted?.();      onClose();            // ??ì´ˆê¸°??      setReason('');      setContext('');          } catch (error: any) {      console.error('? ê³  ?¤íŒ¨:', error);      alert(error.message || '? ê³  ì²˜ë¦¬???¤íŒ¨?ˆìŠµ?ˆë‹¤.');    } finally {      setLoading(false);    }  };  if (!isOpen) return null;  return (    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">      <div className="bg-white rounded-lg p-6 max-w-md w-full mx-4">        <div className="flex items-center justify-between mb-4">          <h3 className="text-lg font-semibold">?¬ìš©??? ê³ </h3>          <button            onClick={onClose}            className="text-gray-400 hover:text-gray-600 text-xl"          >            Ã—          </button>        </div>        <p className="text-sm text-gray-600 mb-4">          <strong>{targetName}</strong>?˜ì— ?€??? ê³ ë¥??‘ìˆ˜?©ë‹ˆ??        </p>        <form onSubmit={handleSubmit} className="space-y-4">          {/* ? ê³  ?¬ìœ  ? íƒ */}          <div>            <label className="block text-sm font-medium text-gray-700 mb-2">              ? ê³  ?¬ìœ  *            </label>            <select              value={reason}              onChange={(e) => setReason(e.target.value)}              className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"              required            >              <option value="">?¬ìœ ë¥?? íƒ?˜ì„¸??/option>              {REPORT_REASONS.map(r => (                <option key={r} value={r}>{r}</option>              ))}            </select>          </div>          {/* ?ì„¸ ?´ìš© */}          <div>            <label className="block text-sm font-medium text-gray-700 mb-2">              ?ì„¸ ?´ìš© (? íƒ?¬í•­)            </label>            <textarea              value={context}              onChange={(e) => setContext(e.target.value)}              placeholder="? ê³  ?¬ìœ ???€???ì„¸???¤ëª…???…ë ¥?´ì£¼?¸ìš”..."              className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none"              rows={4}              maxLength={500}            />            <p className="text-xs text-gray-500 mt-1 text-right">              {context.length}/500            </p>          </div>          {/* ë²„íŠ¼ */}          <div className="flex gap-2 pt-2">            <button              type="submit"              disabled={loading || !reason}              className="flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"            >              {loading ? 'ì²˜ë¦¬ ì¤?..' : '? ê³  ?‘ìˆ˜'}            </button>            <button              type="button"              onClick={onClose}              className="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"            >              ì·¨ì†Œ            </button>          </div>        </form>        {/* ?ˆë‚´ ë©”ì‹œì§€ */}        <div className="mt-4 text-xs text-gray-500">          <p>? ï¸ ?ˆìœ„ ? ê³ ???œì¬ ?€?ì´ ?????ˆìŠµ?ˆë‹¤.</p>          <p>?”’ ? ê³  ?´ìš©?€ ê´€ë¦¬ìë§??•ì¸?????ˆìŠµ?ˆë‹¤.</p>        </div>      </div>    </div>  );}
