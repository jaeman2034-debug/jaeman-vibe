import { useEffect, useRef, useState } from "react";
export default function VoiceTrigger({ onCommand }) { const [active, setActive] = useState(false); const recRef = useRef(null); useEffect(() => { }); } // 브라?��? Web Speech    const SR = (window as any).webkitSpeechRecognition || (window as any).SpeechRecognition;    if (!SR) return;    const rec = new SR();    rec.lang = "ko-KR";    rec.continuous = true;    rec.interimResults = false;    rec.onresult = (e:any) => {      const text = (e.results[e.results.length-1][0].transcript as string).trim();      const t = text.replace(/\s+/g,"");      // 간단???��? 명령 매핑      if (/?�음?�이지|?�음???�음/.test(t)) onCommand("NEXT_PAGE");      else if (/?�전?�이지|?�전???�전/.test(t)) onCommand("PREV_PAGE");      else if (/가격낮|가격올|?�????.test(t)) onCommand("SORT_PRICE_ASC");      else if (/가격높|비싼|비쌈/.test(t)) onCommand("SORT_PRICE_DESC");      else if (/최신/.test(t)) onCommand("SORT_NEWEST");      else if (/거리|가까운|근처/.test(t)) onCommand("SORT_DISTANCE");      else if (/5?�로|5km/.test(t)) onCommand("FILTER_WITHIN_5KM");      else if (/10?�로|10km/.test(t)) onCommand("FILTER_WITHIN_10KM");      else if (/거리?�제|거리초기??.test(t)) onCommand("CLEAR_DISTANCE");    };    recRef.current = rec;  }, [onCommand]);  const toggle = () => {    const r = recRef.current;    if (!r) { alert("??브라?��????�성 ?�식??지?�하지 ?�습?�다."); return; }    if (!active) { r.start(); setActive(true); }    else { r.stop(); setActive(false); }  };  return (    <button type="button" onClick={toggle}      className={`rounded-full px-4 py-2 text-sm ${active ? "bg-blue-600 text-white" : "bg-slate-100"}`}>      ?���??�성 {active ? "ON" : "OFF"}    </button>  );}
