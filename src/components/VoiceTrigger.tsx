import { useEffect, useRef, useState } from "react";type Command =  | "NEXT_PAGE" | "PREV_PAGE"  | "SORT_PRICE_ASC" | "SORT_PRICE_DESC" | "SORT_NEWEST" | "SORT_DISTANCE"  | "FILTER_WITHIN_5KM" | "FILTER_WITHIN_10KM" | "CLEAR_DISTANCE";export default function VoiceTrigger({ onCommand }:{  onCommand: (cmd: Command) => void;}) {  const [active, setActive] = useState(false);  const recRef = useRef<any>(null);  useEffect(()=>{    // ë¸Œë¼?°ì? Web Speech    const SR = (window as any).webkitSpeechRecognition || (window as any).SpeechRecognition;    if (!SR) return;    const rec = new SR();    rec.lang = "ko-KR";    rec.continuous = true;    rec.interimResults = false;    rec.onresult = (e:any) => {      const text = (e.results[e.results.length-1][0].transcript as string).trim();      const t = text.replace(/\s+/g,"");      // ê°„ë‹¨???œê? ëª…ë ¹ ë§¤í•‘      if (/?¤ìŒ?˜ì´ì§€|?¤ìŒ???¤ìŒ/.test(t)) onCommand("NEXT_PAGE");      else if (/?´ì „?˜ì´ì§€|?´ì „???´ì „/.test(t)) onCommand("PREV_PAGE");      else if (/ê°€ê²©ë‚®|ê°€ê²©ì˜¬|?€????.test(t)) onCommand("SORT_PRICE_ASC");      else if (/ê°€ê²©ë†’|ë¹„ì‹¼|ë¹„ìŒˆ/.test(t)) onCommand("SORT_PRICE_DESC");      else if (/ìµœì‹ /.test(t)) onCommand("SORT_NEWEST");      else if (/ê±°ë¦¬|ê°€ê¹Œìš´|ê·¼ì²˜/.test(t)) onCommand("SORT_DISTANCE");      else if (/5?¤ë¡œ|5km/.test(t)) onCommand("FILTER_WITHIN_5KM");      else if (/10?¤ë¡œ|10km/.test(t)) onCommand("FILTER_WITHIN_10KM");      else if (/ê±°ë¦¬?´ì œ|ê±°ë¦¬ì´ˆê¸°??.test(t)) onCommand("CLEAR_DISTANCE");    };    recRef.current = rec;  }, [onCommand]);  const toggle = () => {    const r = recRef.current;    if (!r) { alert("??ë¸Œë¼?°ì????Œì„± ?¸ì‹??ì§€?í•˜ì§€ ?ŠìŠµ?ˆë‹¤."); return; }    if (!active) { r.start(); setActive(true); }    else { r.stop(); setActive(false); }  };  return (    <button type="button" onClick={toggle}      className={`rounded-full px-4 py-2 text-sm ${active ? "bg-blue-600 text-white" : "bg-slate-100"}`}>      ?™ï¸??Œì„± {active ? "ON" : "OFF"}    </button>  );}