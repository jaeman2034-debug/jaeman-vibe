:root{
  /* 다크 테마 (기본) */
  --bg:#0e0f12;
  --card:#17181d;
  --line:#262832;
  --muted:#9aa0aa;
  --text:#e9ecf1;
  --accent:#ff7a1a;
  --positive:#18c27a;
  
  /* 라이트 테마 */
  --bg-light:#ffffff;
  --card-light:#f8f9fa;
  --line-light:#e9ecef;
  --muted-light:#6c757d;
  --text-light:#212529;
  --accent-light:#007bff;
  --positive-light:#28a745;
}

/* 라이트 테마 클래스 */
.theme-light {
  --bg: var(--bg-light);
  --card: var(--card-light);
  --line: var(--line-light);
  --muted: var(--muted-light);
  --text: var(--text-light);
  --accent: var(--accent-light);
  --positive: var(--positive-light);
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:14px/1.35 system-ui, -apple-system, Segoe UI, Roboto, Apple SD Gothic Neo, "Noto Sans KR", sans-serif;}

.market-page{
  min-height:100dvh;
  display:flex;
  flex-direction:column;
}

/* ---------- 상단 바 ---------- */
.topbar{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; justify-content:space-between;
  gap:8px; padding:10px 12px;
  background:rgba(14,15,18,.9); backdrop-filter:saturate(180%) blur(8px);
  border-bottom:1px solid var(--line);
}

.topbar .loc{
  display:flex; align-items:center; gap:6px;
  padding:8px 10px; border-radius:10px;
  background:var(--card); color:var(--text);
  border:1px solid var(--line);
}
.icon{width:22px;height:22px}
.icon-sm{width:18px;height:18px}
.ghost{
  background:transparent; color:var(--text);
  border:0; padding:8px; border-radius:10px;
}
.top-actions{display:flex; gap:2px}

/* ---------- 칩 스크롤 ---------- */
.chip-scroll{
  display:flex; gap:8px; padding:8px 12px; overflow:auto hidden;
  border-bottom:1px solid var(--line);
  scroll-snap-type:x proximity;
}
.chip{
  flex:0 0 auto;
  padding:8px 12px; border-radius:9999px;
  color:#fff; background:#22252d; border:1px solid var(--line);
  scroll-snap-align:start;
}
.chip:hover{background:#272a33}

/* ---------- 피드 (리스트) ---------- */
.feed{
  display:flex; flex-direction:column; gap:12px;
  padding:10px 12px 96px; /* 탭바 여유 */
}
.card{
  display:grid; grid-template-columns:112px 1fr auto;
  gap:12px; align-items:center;
  padding:10px; border-radius:14px;
  background:var(--card); border:1px solid var(--line);
}
.thumb{position:relative; width:112px; aspect-ratio:1 / 1; overflow:hidden; border-radius:12px; background:#0b0c0f;}
.thumb>img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover;}
.badge{
  position:absolute; left:8px; bottom:8px;
  font-size:12px; padding:4px 8px; border-radius:7px;
  background:rgba(0,0,0,.45); color:#fff; backdrop-filter:blur(2px);
}
.badge.done{background:#3d3f48}

.meta{min-width:0}
.title{
  font-weight:700; margin:0 0 4px; font-size:16px;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
}
.meta-row{display:flex; align-items:center; gap:6px; color:var(--muted); margin-bottom:6px}
.sub{white-space:nowrap}
.dot{opacity:.6}
.price-like{display:flex; align-items:center; justify-content:space-between; gap:8px}
.price{font-size:18px}
.like{display:flex; align-items:center; gap:4px; color:#ff5a58}

/* 찜하기 버튼 */
.like-btn{
  display:flex; align-items:center; gap:4px;
  background:transparent; border:0; color:var(--muted);
  cursor:pointer; padding:4px; border-radius:6px;
  transition:all 0.2s ease;
}
.like-btn:hover{color:#ff5a58; background:rgba(255,90,88,0.1)}
.like-btn.liked{color:#ff5a58}
.like-btn.liked:hover{color:#e63946}

/* 우측 메뉴 점 3개 */
.menu{align-self:flex-start; color:var(--muted);}

/* ---------- 플로팅 버튼 ---------- */
.fab{
  position:fixed; right:16px; bottom:84px;
  display:flex; align-items:center; gap:8px;
  background:var(--accent); color:#fff; border:0;
  padding:12px 16px; border-radius:9999px;
  box-shadow:0 8px 26px rgba(0,0,0,.35);
  font-weight:700;
}

/* ---------- 하단 탭 바 ---------- */
.tabbar{
  position:sticky; bottom:0; z-index:40;
  display:grid; grid-template-columns:repeat(5,1fr);
  border-top:1px solid var(--line); background:#111216cc; backdrop-filter:blur(8px);
}
.tab{
  display:flex; flex-direction:column; align-items:center; gap:4px;
  padding:8px 4px; color:#cbd1db; text-decoration:none;
}
.tab .icon{width:24px;height:24px}
.tab-label{font-size:12px}

/* ---------- 무한 스크롤 ---------- */
.scroll-observer{
  text-align:center; padding:20px; color:var(--muted);
}
.loading-spinner{
  display:flex; align-items:center; justify-content:center; gap:8px;
}
.loading-spinner::before{
  content:""; width:16px; height:16px;
  border:2px solid var(--line); border-top-color:var(--accent);
  border-radius:50%; animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}
.scroll-hint{font-size:12px; opacity:0.7}

/* ---------- 반응형 레이아웃 ---------- */
@media (min-width:480px){
  .card{grid-template-columns:128px 1fr auto}
  .thumb{width:128px}
}

@media (min-width:768px){
  .feed{
    display:grid; grid-template-columns:repeat(2,1fr); gap:16px;
    padding:16px 16px 96px;
  }
  .card{grid-template-columns:1fr; gap:8px; padding:12px}
  .thumb{width:100%; aspect-ratio:1/1}
  .meta{padding:8px 0}
}

@media (min-width:1024px){
  .feed{grid-template-columns:repeat(3,1fr)}
}

@media (min-width:1280px){
  .feed{grid-template-columns:repeat(4,1fr)}
}
