import React, { useState, useEffect } from 'react';interface CameraSelectorProps {  onCameraChange: (deviceId: string) => void;  currentDeviceId?: string;  className?: string;  theme?: 'light' | 'dark';}export default function CameraSelector({   onCameraChange,   currentDeviceId,   className = '',  theme = 'light'}: CameraSelectorProps) {  const [cameras, setCameras] = useState<MediaDeviceInfo[]>([]);  const [isLoading, setIsLoading] = useState(false);  // ?Œë§ˆë³??¤í???  const isDark = theme === 'dark';  const textColor = isDark ? 'text-white' : 'text-gray-700';  const borderColor = isDark ? 'border-gray-600' : 'border-gray-300';  const bgColor = isDark ? 'bg-gray-800' : 'bg-white';  const focusRing = isDark ? 'focus:ring-blue-400 focus:border-blue-400' : 'focus:ring-blue-500 focus:border-blue-500';  // ?¬ìš© ê°€?¥í•œ ì¹´ë©”??ëª©ë¡ ì¡°íšŒ  const loadCameras = async () => {    try {      setIsLoading(true);      const devices = await navigator.mediaDevices.enumerateDevices();      const videoDevices = devices.filter(d => d.kind === 'videoinput');      setCameras(videoDevices);    } catch (error) {      console.error('ì¹´ë©”??ëª©ë¡ ì¡°íšŒ ?¤íŒ¨:', error);    } finally {      setIsLoading(false);    }  };  // ì¹´ë©”??ë³€ê²????¸ì¶œ  const handleCameraChange = (event: React.ChangeEvent<HTMLSelectElement>) => {    const deviceId = event.target.value;    if (deviceId) {      onCameraChange(deviceId);    }  };  // ì»´í¬?ŒíŠ¸ ë§ˆìš´????ì¹´ë©”??ëª©ë¡ ë¡œë“œ  useEffect(() => {    loadCameras();  }, []);  // ê¶Œí•œ ë³€ê²???ì¹´ë©”??ëª©ë¡ ?ˆë¡œê³ ì¹¨  useEffect(() => {    const handleDeviceChange = () => {      loadCameras();    };    navigator.mediaDevices.addEventListener('devicechange', handleDeviceChange);    return () => {      navigator.mediaDevices.removeEventListener('devicechange', handleDeviceChange);    };  }, []);  if (cameras.length === 0) {    return null; // ì¹´ë©”?¼ê? ?†ìœ¼ë©??Œë”ë§í•˜ì§€ ?ŠìŒ  }  return (    <div className={`flex items-center gap-2 ${className}`}>      <label className={`text-sm font-medium ${textColor}`}>        ì¹´ë©”??      </label>      <select        value={currentDeviceId || ''}        onChange={handleCameraChange}        disabled={isLoading}        className={`px-3 py-1 text-sm border rounded-md transition-colors ${bgColor} ${borderColor} ${textColor} ${focusRing} disabled:opacity-50`}      >        {isLoading ? (          <option>ë¡œë”© ì¤?..</option>        ) : (          cameras.map((camera) => (            <option key={camera.deviceId} value={camera.deviceId}>              {camera.label || `ì¹´ë©”??${camera.deviceId.slice(0, 8)}...`}            </option>          ))        )}      </select>            {/* ?ˆë¡œê³ ì¹¨ ë²„íŠ¼ */}      <button        onClick={loadCameras}        disabled={isLoading}        className={`p-1 ${isDark ? 'text-gray-400 hover:text-gray-200' : 'text-gray-500 hover:text-gray-700'} disabled:opacity-50 transition-colors`}        title="ì¹´ë©”??ëª©ë¡ ?ˆë¡œê³ ì¹¨"      >        <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />        </svg>      </button>    </div>  );} 