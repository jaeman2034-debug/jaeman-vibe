// UnifiedMicButton.tsximport React from "react";import { useSpeech } from "./useSpeech"; // ?žì„œ ë§Œë“  ?˜ë™ STT ??import { usePttStt } from '../../hooks/usePttStt';import { useVoiceAgent } from '../../voice/useVoiceAgent';type Props = { mode?: "toggle" | "ptt"; className?: string };export default function UnifiedMicButton({ mode = "toggle", className }: Props) {  const { isListening, onMicClick, startSTT, stopSTT, startPTT, stopPTT, sttSupport } = useSpeech();  const { handlers, finalText, snapshotAfterStop } = usePttStt();  const { handleTranscript } = useVoiceAgent();  // PTT ëª¨ë“œ???ŒëŠ” onPointerDown/onPointerUpë§??°ê²°  // ?´ë ‡ê²??˜ë©´ ?¬ìš©?ê? ?„ë¥´ê³?ë§í•˜???™ì•ˆ STTê°€ ?Šê²¨???ë™?¼ë¡œ ?¤ì‹œ ?´ì–´?¸ìš”  // PTT ëª¨ë“œ?ì„œ ?Œì„± ëª…ë ¹ ì²˜ë¦¬  React.useEffect(() => {    if (finalText && mode === "ptt") {      console.log("[Voice] Processing transcript:", finalText);      handleTranscript(finalText);    }  }, [finalText, mode, handleTranscript]);  // PTT ëª¨ë“œ?ì„œ ë²„íŠ¼ ?“ì„ ??ìµœì¢… ê²°ê³¼ ì²˜ë¦¬  const handlePointerUp = React.useCallback((e: any) => {    if (mode === "ptt") {      const snapshot = snapshotAfterStop();      if (snapshot.final) {        console.log("[Voice] Final transcript:", snapshot.final);        handleTranscript(snapshot.final);      }    }  }, [mode, snapshotAfterStop, handleTranscript]);  const label =    mode === "toggle"      ? isListening ? "?›‘ Stop" : "?Ž¤ Start"      : isListening ? "?Ž™ï¸?Listening??(hold)" : "?Ž¤ Hold to talk";  return (    <button      type="button"      className={className}      aria-pressed={isListening}      disabled={!sttSupport.ok}      onClick={mode === "toggle" ? onMicClick : undefined}      onPointerDown={mode === "ptt" ? handlers.onPointerDown : undefined}      onPointerUp={mode === "ptt" ? handlePointerUp : undefined}      style={{        padding: "12px 16px",        borderRadius: 12,        border: "1px solid #ddd",        fontSize: 16,        cursor: sttSupport.ok ? "pointer" : "not-allowed",        userSelect: "none",        opacity: sttSupport.ok ? 1 : 0.6,      }}    >      {label}    </button>  );} 