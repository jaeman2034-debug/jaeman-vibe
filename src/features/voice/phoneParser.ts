// ?“± ?œêµ­???„í™”ë²ˆí˜¸ ?Œì‹± ? í‹¸ë¦¬í‹°// ?Œì„± ?¸ì‹ ê²°ê³¼?ì„œ ?«ì?€ ?˜ì´?ˆì„ ì¶”ì¶œ?˜ì—¬ ?•ê·œ?”ëœ ?„í™”ë²ˆí˜¸ë¡?ë³€??/** ?œêµ­???«ì ?¨ì–´ ???«ì ë§¤í•‘ */const KOREAN_NUMBER_MAP: Record<string, string> = {  // 0  '??: '0', 'ê³?: '0', '?œë¡œ': '0', 'ë¹?: '0',    // 1  '??: '1', '?˜ë‚˜': '1', 'one': '1',    // 2  '??: '2', '??: '2', 'two': '2', '??: '2',    // 3  '??: '3', '??: '3', 'three': '3', '?°ë¦¬': '3',    // 4  '??: '4', '??: '4', 'four': '4', '??: '4',    // 5  '??: '5', '?¤ì„¯': '5', 'five': '5', '?Œì´ë¸?: '5',    // 6  '??: '6', '?¬ì„¯': '6', 'six': '6', '?ìŠ¤': '6',    // 7  'ì¹?: '7', '?¼ê³±': '7', 'seven': '7', '?¸ë¸': '7',    // 8  '??: '8', '?¬ëŸ': '8', 'eight': '8', '?ì‡': '8',    // 9  'êµ?: '9', '?„í™‰': '9', 'nine': '9', '?˜ì¸': '9',};/** ?˜ì´??ê´€???¨ì–´ ???˜ì´??ë§¤í•‘ */const HYPHEN_WORDS = [  '?€??, '?˜ì´??, 'ë¹¼ê¸°', 'dash', 'hyphen', 'minus'];/** ?œêµ­ ?´ë???ë²ˆí˜¸ ?¨í„´ (010-xxxx-xxxx) */const KR_PHONE_PATTERN = /^010[-\s]?(\d{4})[-\s]?(\d{4})$/;/** * ?Œì„± ?¸ì‹ ê²°ê³¼?ì„œ ?„í™”ë²ˆí˜¸ ì¶”ì¶œ ë°??•ê·œ?? * @param text ?Œì„± ?¸ì‹ ê²°ê³¼ ?ìŠ¤?? * @returns { digits: string, formatted: string } ?•ê·œ?”ëœ ?„í™”ë²ˆí˜¸ */export function extractPhoneKO(text: string): { digits: string; formatted: string } {  if (!text || typeof text !== 'string') {    return { digits: '', formatted: '' };  }  let normalized = text.toLowerCase().trim();    // 1ï¸âƒ£ ?œêµ­???«ì ?¨ì–´ ???«ì ë³€??  Object.entries(KOREAN_NUMBER_MAP).forEach(([korean, digit]) => {    const regex = new RegExp(korean, 'gi');    normalized = normalized.replace(regex, digit);  });    // 2ï¸âƒ£ ?˜ì´??ê´€???¨ì–´ ???˜ì´??ë³€??  HYPHEN_WORDS.forEach(hyphenWord => {    const regex = new RegExp(hyphenWord, 'gi');    normalized = normalized.replace(regex, '-');  });    // 3ï¸âƒ£ ?«ì?€ ?˜ì´?ˆë§Œ ?¨ê¸°ê¸?  let digits = normalized.replace(/[^\d-]/g, '');    // 4ï¸âƒ£ ?°ì†???˜ì´???•ë¦¬  digits = digits.replace(/-{2,}/g, '-');    // 5ï¸âƒ£ ?ë’¤ ?˜ì´???œê±°  digits = digits.replace(/^-+|-+$/g, '');    // 6ï¸âƒ£ ?œêµ­ ?´ë???ë²ˆí˜¸ ?°ì„  ì¶”ì¶œ (010?¼ë¡œ ?œì‘?˜ëŠ” 11?ë¦¬)  if (digits.includes('010')) {    const startIndex = digits.indexOf('010');    const potentialPhone = digits.slice(startIndex, startIndex + 11);        if (potentialPhone.length === 11 && /^\d{11}$/.test(potentialPhone)) {      const formatted = formatKR(potentialPhone);      return { digits: potentialPhone, formatted };    }  }    // 7ï¸âƒ£ ?¼ë°˜?ì¸ ?«ì ?œí€€?¤ì—??11?ë¦¬ ì¶”ì¶œ  const cleanDigits = digits.replace(/[^\d]/g, '');  if (cleanDigits.length >= 11) {    const phoneDigits = cleanDigits.slice(0, 11);    const formatted = formatKR(phoneDigits);    return { digits: phoneDigits, formatted };  }    // 8ï¸âƒ£ 11?ë¦¬ ë¯¸ë§Œ??ê²½ìš° ê·¸ë?ë¡?ë°˜í™˜  if (cleanDigits.length > 0) {    return { digits: cleanDigits, formatted: cleanDigits };  }    return { digits: '', formatted: '' };}/** * 11?ë¦¬ ?«ìë¥??œêµ­ ?„í™”ë²ˆí˜¸ ?•ì‹?¼ë¡œ ?¬ë§·?? * @param digits 11?ë¦¬ ?«ì ë¬¸ì?? * @returns 010-xxxx-xxxx ?•ì‹???„í™”ë²ˆí˜¸ */export function formatKR(digits: string): string {  if (!digits || digits.length !== 11 || !/^\d{11}$/.test(digits)) {    return digits;  }    return `${digits.slice(0, 3)}-${digits.slice(3, 7)}-${digits.slice(7)}`;}/** * ?„í™”ë²ˆí˜¸ ? íš¨??ê²€?? * @param phone ?„í™”ë²ˆí˜¸ ë¬¸ì?? * @returns ? íš¨???œêµ­ ?´ë???ë²ˆí˜¸?¸ì? ?¬ë? */export function isValidKRPhone(phone: string): boolean {  if (!phone) return false;    // ?˜ì´???œê±° ??11?ë¦¬ ?«ì?¸ì? ?•ì¸  const clean = phone.replace(/[^\d]/g, '');  if (clean.length !== 11) return false;    // 010?¼ë¡œ ?œì‘?˜ëŠ”ì§€ ?•ì¸  if (!clean.startsWith('010')) return false;    return true;}/** * ?Œì„± ?¸ì‹ ê²°ê³¼?ì„œ ?«ìë§?ì¶”ì¶œ (?„í™”ë²ˆí˜¸ ???©ë„) * @param text ?Œì„± ?¸ì‹ ê²°ê³¼ ?ìŠ¤?? * @returns ?«ìë§??¬í•¨??ë¬¸ì?? */export function extractDigits(text: string): string {  if (!text || typeof text !== 'string') return '';    let normalized = text.toLowerCase();    // ?œêµ­???«ì ?¨ì–´ ???«ì ë³€??  Object.entries(KOREAN_NUMBER_MAP).forEach(([korean, digit]) => {    const regex = new RegExp(korean, 'gi');    normalized = normalized.replace(regex, digit);  });    // ?«ìë§?ì¶”ì¶œ  return normalized.replace(/[^\d]/g, '');} 
