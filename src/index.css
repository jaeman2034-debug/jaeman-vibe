@import "tailwindcss";

/* 선택: 전역 기본값 */
html, body, #root { height: 100%; }

/* ===========================
   Global Reset / Base
   =========================== */
   *,
   *::before,
   *::after {
     box-sizing: border-box;
   }
   
   html, body, #root {
     height: 100%;
   }
   
   body {
     margin: 0;
     -webkit-text-size-adjust: 100%;
     text-rendering: optimizeLegibility;
     -webkit-font-smoothing: antialiased;
     -moz-osx-font-smoothing: grayscale;
   
     font-family: system-ui, Avenir, Helvetica, Arial, 'Noto Sans KR', sans-serif;
     color: #213547;               /* 기본 텍스트 */
     background-color: #ffffff;    /* 기본 배경 */
   }
   
   /* 마진 겹침 방지 */
   h1, h2, h3, h4, h5, h6, p {
     margin: 0;
   }
   
   /* 이미지 공백 제거 & 반응형 */
   img {
     display: block;
     max-width: 100%;
     height: auto;
   }
   
   /* 포커스 링 접근성 유지 */
   :focus-visible {
     outline: 3px solid #99b6ff;
     outline-offset: 2px;
   }
   
   /* ===========================
      Theme Tokens
      =========================== */
   :root {
     --brand: #3478ff;
     --brand-600: #2563eb;
     --text: #213547;
     --muted: #6b7280;
     --bg: #ffffff;
     --surface: #ffffff;
     --surface-border: #e6e8ef;
     --btn-bg: #f9f9f9;
   }
   
   /* 필요 시 다크 모드 대응 */
   @media (prefers-color-scheme: dark) {
     :root {
       --text: #e5e7eb;
       --muted: #b5bdc9;
       --bg: #0f172a;
       --surface: #111827;
       --surface-border: #2a3340;
       --btn-bg: #1f2937;
     }
     body {
       color: var(--text);
       background-color: var(--bg);
     }
   }
   
   /* ===========================
      Links
      =========================== */
   a {
     font-weight: 500;
     color: var(--brand);
     text-decoration: none;   /* 필요시 underline */
   }
   a:hover {
     color: var(--brand-600);
     text-decoration: underline;
   }
   
   /* ===========================
      Buttons
      =========================== */
   button {
     border-radius: 8px;
     border: 1px solid transparent;
     padding: 0.6em 1.2em;
     font-size: 1rem;
     font-weight: 600;
     font-family: inherit;
     background-color: var(--btn-bg);
     color: var(--text);
     cursor: pointer;
     transition: border-color 0.2s ease, background-color 0.2s ease, transform 0.02s ease;
   }
   
   button:hover {
     border-color: var(--brand);
   }
   
   button:active {
     transform: translateY(0.5px);
   }
   
   button:focus,
   button:focus-visible {
     outline: 3px solid #99b6ff;
     outline-offset: 2px;
   }
   
   /* Primary 버튼이 필요할 때(예: 시작하기) */
   .btn-primary {
     background-color: var(--brand);
     color: #fff;
     border: none;
     box-shadow: 0 6px 16px rgba(52, 120, 255, 0.25);
   }
   .btn-primary:hover {
     background-color: var(--brand-600);
   }
   
   /* 유틸리티 버튼 클래스 */
   .btn {
     padding: 0.5rem 0.75rem;
     border-radius: 0.5rem;
     border: 1px solid rgba(0,0,0,.1);
     background: var(--btn-bg);
     color: var(--text);
     cursor: pointer;
     transition: all 0.2s;
   }
   
   .btn:hover {
     background: var(--surface-border);
     transform: translateY(-1px);
   }
   
   /* ===========================
      Optional: Typography scale
      =========================== */
   h1 { font-size: clamp(24px, 2.6vw, 32px); line-height: 1.2; }
   h2 { font-size: clamp(18px, 2.2vw, 24px); line-height: 1.25; }
   p  { font-size: clamp(13px, 1.8vw, 16px); line-height: 1.55; color: var(--muted); }

:root {
  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
  
  /* 안전 영역 변수 */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
}

/* 모달 관련 CSS - 안전성 강화 */
.modal-backdrop {
  position: fixed; 
  inset: 0; 
  background: rgba(0,0,0,.45);
  backdrop-filter: blur(2px);
  z-index: 999998;             /* 시트보다 항상 아래 */
  pointer-events: auto;         /* 클릭 이벤트 보장 */
  cursor: pointer;              /* 클릭 가능함을 표시 */
}

.modal-sheet {
  position: fixed; 
  left: 0; right: 0; bottom: 0; 
  margin: 0 auto;
  max-width: 640px; 
  max-height: min(80dvh,560px);
  background: #fff; 
  border-radius: 16px 16px 0 0; 
  padding: 16px;
  padding-bottom: calc(16px + env(safe-area-inset-bottom,0px));
  overflow: auto; 
  z-index: 999999;             /* 최고 우선순위 */
  pointer-events: auto;        /* ✅ 클릭 보장 */
  box-shadow: 0 -8px 24px rgba(0,0,0,0.12);
  border: 1px solid #e5e7eb;
  /* 터치 디바이스에서 스크롤 부드럽게 */
  -webkit-overflow-scrolling: touch;
  /* 모바일에서 안전한 위치 */
  bottom: max(0px, env(safe-area-inset-bottom, 0px));
}

/* 모달 열릴 때 배경 스크롤 잠금 */
html.modal-open, body.modal-open { 
  overflow: hidden; 
  position: fixed;
  width: 100%;
  height: 100%;
}

/* reCAPTCHA 배지/확장 프로그램 오버레이가 가리는 경우 방지 */
.grecaptcha-badge {
  pointer-events: none !important;
  z-index: 10 !important;
}

/* 모바일 브라우저 UI와 겹치지 않도록 */
@media (max-width: 768px) {
  .modal-sheet {
    max-height: calc(100dvh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
    bottom: env(safe-area-inset-bottom, 0px);
  }
}

/* 고해상도 디스플레이에서 선명하게 */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .modal-sheet {
    border-width: 0.5px;
  }
}
   