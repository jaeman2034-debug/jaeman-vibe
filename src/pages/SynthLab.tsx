import { useRef, useState } from 'react';type Case = { id:string; text:string; truth:{email?:string; phone?:string; password?:string}; tags:string[] };const providers = ['gmail.com','naver.com','daum.net'];function variants(id:number): Case[] {  const base = { email:`jae.man.${id}@gmail.com`, phone:'010-5689-0800', password:'ABC12345' };  const texts = [    `?ˆë…•?˜ì„¸?? ?´ë©”?¼ì? JAE. MAN. ${id} ê³¨ë±…??ì§€ë©”ì¼ ??ì»? ?„í™”??ê³µì¼ê³??¤ìœ¡?”êµ¬ ?ì˜ê³µê³µ. ë¹„ë?ë²ˆí˜¸??A. B. C. 1 2 3 4 5.`,    `???´ë©”??ì£¼ì†Œ??jae man ${id} @ gmail . com ?…ë‹ˆ?? ë²ˆí˜¸??010 5689 0800, ë¹„ë²ˆ?€ ABC 12345.`,    `?´ë©”??jaeman${id} ê³¨ë±…??gmail ??com, ?„í™” ê³µì¼ê³?5689 0800, ë¹„ë?ë²ˆí˜¸ ?ì´ë¹„ì”¨ ?¼ì´?¼ì‚¬??`,  ];  return texts.map((t, i) => ({    id:`c${id}-${i}`, text:t,    truth:{ email:`jaeman${id}@gmail.com`, phone:'010-5689-0800', password:'ABC12345' },    tags:['mix','ko-digit','dot','space']  }));}export default function SynthLab(){  const [cases,setCases] = useState<Case[]>(()=>Array.from({length:5},(_,k)=>variants(k+1)).flat());  const idx = useRef(0);  const playAll = async () => {    for (idx.current=0; idx.current<cases.length; idx.current++){      const c = cases[idx.current];      speechSynthesis.speak(new SpeechSynthesisUtterance(c.text));      // ?”ë ˆë©”íŠ¸ë¦? synth.queue      fetch("/api/telemetry", {        method: "POST",        headers: { "Content-Type": "application/json" },        body: JSON.stringify({ schema:1, events:[{ type:'synth.queue', data:{ id:c.id, tags:c.tags }}] })      }).catch(() => {}); // ?¤íŒ¨?´ë„ ??ì§„í–‰ ë°©í•´ ê¸ˆì?      await new Promise(r=>setTimeout(r, 1400)); // ë¬¸ì¥ ê¸¸ì´??ë§ê²Œ ì¡°ì ˆ    }  };  return (    <div className="p-6 space-y-3">      <h1 className="text-xl font-bold">?©ì„± ?Œì„± ?ŒìŠ¤??/h1>      <p className="text-sm opacity-80">?œìŠ¤???¤ë””?¤ë? ?…ë ¥?¼ë¡œ ?¤ì •(Windows: ?¬ìš´???¤ì • ???…ë ¥ ??"Stereo Mix" ?ëŠ” ê°€??ì¼€?´ë¸” ? íƒ).</p>      <div className="flex gap-2">        <button className="px-3 py-1.5 rounded bg-black text-white" onClick={playAll}>ëª¨ë‘ ?¬ìƒ</button>        <button className="px-3 py-1.5 rounded border" onClick={()=>speechSynthesis.cancel()}>?•ì?</button>      </div>      <ul className="list-disc pl-5">        {cases.map(c=><li key={c.id} className="text-sm">{c.id}: {c.text}</li>)}      </ul>    </div>  );}
