import React, { useState } from "react";import { useVoiceAgent } from "../voice/useVoiceAgent";import { nlu } from "../voice/nlu/simpleNlu";import { routeCommand } from "../voice/commandRouter";export default function VoiceCommandTestPage() {  const [testInput, setTestInput] = useState("");  const [lastResult, setLastResult] = useState<any>(null);  const { handleTranscript, last, lastCmd } = useVoiceAgent();  const testCommands = [    "ë§ˆì¼“?¼ë¡œ ?´ë™",    "ì¶•êµ¬??ì¹´í…Œê³ ë¦¬ ë³´ì—¬ì¤?,    "?í’ˆ ì´¬ì˜ ?œì‘",    "6ë§?ì²œì›???í’ˆ ?±ë¡??,    "?í’ˆ AI ë¶„ì„?´ì¤˜",    "??ì£¼ë? 2km ë§¤ë¬¼ ë³´ì—¬ì¤?,    "?„ì?ë§?,    "ì·¨ì†Œ",  ];  const handleTest = async (command: string) => {    setTestInput(command);    const cmd = nlu(command);    setLastResult(cmd);    if (cmd) {      try {        await routeCommand(cmd);      } catch (error) {        console.error("Command execution failed:", error);      }    }  };  const handleManualTest = async () => {    if (!testInput.trim()) return;    await handleTest(testInput);  };  return (    <div className="max-w-4xl mx-auto p-6 space-y-6">      <div className="text-center">        <h1 className="text-3xl font-bold mb-2">?¤ ?Œì„± ëª…ë ¹ ?ŒìŠ¤??/h1>        <p className="text-zinc-600 dark:text-zinc-400">          ?œêµ­???Œì„± ëª…ë ¹?¼ë¡œ ëª¨ë“  ê¸°ëŠ¥???œì–´?´ë³´?¸ìš”        </p>      </div>      {/* ?¤ì‹œê°??Œì„± ?…ë ¥ ê²°ê³¼ */}      <div className="bg-white dark:bg-zinc-900 rounded-2xl border p-6">        <h2 className="text-xl font-semibold mb-4">?™ï¸??¤ì‹œê°??Œì„± ?…ë ¥</h2>        <div className="space-y-3">          <div>            <span className="font-medium">ë§ˆì?ë§??Œì„±:</span>            <span className="ml-2 text-zinc-600 dark:text-zinc-400">              {last || "?„ì§ ?Œì„± ?…ë ¥???†ìŠµ?ˆë‹¤"}            </span>          </div>          <div>            <span className="font-medium">?¸ì‹??ëª…ë ¹:</span>            <pre className="ml-2 text-sm bg-zinc-100 dark:bg-zinc-800 rounded-lg p-2 overflow-auto">              {lastCmd ? JSON.stringify(lastCmd, null, 2) : "ëª…ë ¹???¸ì‹?˜ì? ?Šì•˜?µë‹ˆ??}            </pre>          </div>        </div>      </div>      {/* ?˜ë™ ?ŒìŠ¤??*/}      <div className="bg-white dark:bg-zinc-900 rounded-2xl border p-6">        <h2 className="text-xl font-semibold mb-4">?§ª ?˜ë™ ëª…ë ¹ ?ŒìŠ¤??/h2>        <div className="flex gap-2 mb-4">          <input            type="text"            value={testInput}            onChange={(e) => setTestInput(e.target.value)}            placeholder="?Œì„± ëª…ë ¹???…ë ¥?˜ì„¸??(?? ë§ˆì¼“?¼ë¡œ ?´ë™)"            className="flex-1 px-3 py-2 border rounded-lg"          />          <button            onClick={handleManualTest}            className="px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700"          >            ?ŒìŠ¤??          </button>        </div>                {lastResult && (          <div className="bg-zinc-100 dark:bg-zinc-800 rounded-lg p-3">            <h3 className="font-medium mb-2">ëª…ë ¹ ë¶„ì„ ê²°ê³¼:</h3>            <pre className="text-sm overflow-auto">{JSON.stringify(lastResult, null, 2)}</pre>          </div>        )}      </div>      {/* ë¹ ë¥¸ ?ŒìŠ¤??ë²„íŠ¼??*/}      <div className="bg-white dark:bg-zinc-900 rounded-2xl border p-6">        <h2 className="text-xl font-semibold mb-4">??ë¹ ë¥¸ ?ŒìŠ¤??/h2>        <div className="grid grid-cols-1 md:grid-cols-2 gap-3">          {testCommands.map((cmd, i) => (            <button              key={i}              onClick={() => handleTest(cmd)}              className="text-left p-3 border rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800 transition"            >              <div className="font-medium">{cmd}</div>              <div className="text-sm text-zinc-600 dark:text-zinc-400">                {nlu(cmd)?.intent || "?¸ì‹ ?ˆë¨"}              </div>            </button>          ))}        </div>      </div>      {/* ?Œì„± ëª…ë ¹ ê°€?´ë“œ */}      <div className="bg-white dark:bg-zinc-900 rounded-2xl border p-6">        <h2 className="text-xl font-semibold mb-4">?“š ?Œì„± ëª…ë ¹ ê°€?´ë“œ</h2>        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">          <div>            <h3 className="font-semibold mb-2">?? ?¤ë¹„ê²Œì´??/h3>            <ul className="space-y-1 text-sm">              <li>??"ë§ˆì¼“?¼ë¡œ ?´ë™" ??ë§ˆì¼“ ?˜ì´ì§€</li>              <li>??"ëª¨ì„ ?˜ì´ì§€ ?´ì–´ì¤? ??ëª¨ì„ ?˜ì´ì§€</li>              <li>??"ì¶•êµ¬??ì¹´í…Œê³ ë¦¬ ë³´ì—¬ì¤? ??ë§ˆì¼“??ì¶•êµ¬??ì¹´í…Œê³ ë¦¬</li>            </ul>          </div>                    <div>            <h3 className="font-semibold mb-2">?“· ?í’ˆ ê´€ë¦?/h3>            <ul className="space-y-1 text-sm">              <li>??"?í’ˆ ì´¬ì˜ ?œì‘" ??ì¹´ë©”??ëª¨ë‹¬</li>              <li>??"6ë§?ì²œì›???±ë¡?? ???í’ˆ ?±ë¡ ëª¨ë‹¬</li>              <li>??"?í’ˆ AI ë¶„ì„?´ì¤˜" ??AI ë¶„ì„ ëª¨ë‹¬</li>            </ul>          </div>                    <div>            <h3 className="font-semibold mb-2">?“ ?„ì¹˜ ê¸°ë°˜</h3>            <ul className="space-y-1 text-sm">              <li>??"??ì£¼ë? 2km ë§¤ë¬¼ ë³´ì—¬ì¤? ??ë°˜ê²½ ê²€??/li>              <li>??"ê·¼ì²˜ ?í’ˆ ì°¾ì•„ì¤? ??ê¸°ë³¸ 2km ë°˜ê²½</li>            </ul>          </div>                    <div>            <h3 className="font-semibold mb-2">?› ï¸?ê¸°í?</h3>            <ul className="space-y-1 text-sm">              <li>??"?„ì?ë§? ??ëª…ë ¹ ê°€?´ë“œ</li>              <li>??"ì·¨ì†Œ" / "?«ì•„" ???„ì¬ ?‘ì—… ì·¨ì†Œ</li>            </ul>          </div>        </div>      </div>      {/* ê¸°ìˆ  ?•ë³´ */}      <div className="bg-zinc-100 dark:bg-zinc-800 rounded-2xl p-6">        <h2 className="text-xl font-semibold mb-4">?”§ ê¸°ìˆ  ?•ë³´</h2>        <div className="text-sm space-y-2">          <p><strong>NLU ?”ì§„:</strong> ê·œì¹™ ê¸°ë°˜ ?œêµ­???Œì„± ëª…ë ¹ ?¸ì‹</p>          <p><strong>ì§€???¸ì–´:</strong> ?œêµ­??(ko-KR)</p>          <p><strong>?Œì„± ?…ë ¥:</strong> PTT (Push-to-Talk) ëª¨ë“œ</p>          <p><strong>?°ê²° ?œìŠ¤??</strong> ModalProvider, React Router, Firestore</p>          <p><strong>ì¹´ë©”??</strong> HTTPS ?˜ê²½?ì„œ ì¹´ë©”???‘ê·¼</p>          <p><strong>?„ì¹˜:</strong> Geolocation API + Firestore ë°˜ê²½ ê²€??/p>        </div>      </div>    </div>  );} 