import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useEffect, useRef, useState } from "react";
export default function ProductCaptureModal({ onClose, onCaptured }) { const videoRef = useRef(null); const [stream, setStream] = useState(null); useEffect(() => { (async () => { const s = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment" }, audio: false }); setStream(s); if (videoRef.current)
    videoRef.current.srcObject = s; })(); return () => { stream?.getTracks().forEach((t) => t.stop()); }; }, []); function shoot() { const video = videoRef.current; const canvas = document.createElement("canvas"); canvas.width = video.videoWidth; canvas.height = video.videoHeight; const ctx = canvas.getContext("2d"); ctx.drawImage(video, 0, 0); canvas.toBlob((blob) => { if (blob)
    onCaptured?.(blob); }, "image/jpeg", 0.9); } return (_jsxs("div", { className: "bg-white dark:bg-zinc-900 rounded-2xl p-4 w-full space-y-3", children: ["      ", _jsx("h2", { className: "text-lg font-semibold", children: "?\uFFFD\uD488 \uCD2C\uC601" }), "      ", _jsx("video", { ref: videoRef, autoPlay: true, playsInline: true, className: "w-full rounded-xl bg-black" }), "      ", _jsxs("div", { className: "flex gap-2 justify-end", children: ["        ", _jsx("button", { className: "px-3 py-1.5 rounded-xl border", onClick: onClose, children: "?\uFFFD\uAE30" }), "        ", _jsx("button", { className: "px-3 py-1.5 rounded-xl bg-emerald-600 text-white", onClick: shoot, children: "\uCD2C\uC601" }), "      "] }), "    "] })); }
