// Marketplace Types and Interfaces// Product Statusexport type ProductStatus = '?ë§¤ì¤? | '?ˆì•½ì¤? | '?„ë£Œ';// Product Data Structureexport interface Product {  id: string;  sellerId: string;           // ?ë§¤??UID (?„ìˆ˜)  title: string;              // ?í’ˆëª?(?„ìˆ˜)  price: number;              // ê°€ê²?(?„ìˆ˜)  status: ProductStatus;      // ?íƒœ (?„ìˆ˜)    // Optional fields  desc?: string;              // ?í’ˆ ?¤ëª…  category?: string;          // ì¹´í…Œê³ ë¦¬  images?: string[];          // ?´ë?ì§€ URL ë°°ì—´  location?: string;          // ?„ì¹˜ëª?  lat?: number;               // ?„ë„  lng?: number;               // ê²½ë„    // Metadata  createdAt: any;             // ?ì„±??(serverTimestamp)  updatedAt: any;             // ?˜ì •??(serverTimestamp)  views?: number;             // ì¡°íšŒ??  likes?: number;             // ì¢‹ì•„????    // AI Analysis (optional)  analysis?: AIAnalysisResult;  analyzedAt?: Date;}// AI Analysis Resultexport interface AIAnalysisResult {  category: string;  condition: 'new' | 'good' | 'fair' | 'poor';  priceEstimate: {     low: number;     high: number;     currency: 'KRW'   };  authenticityScore: number;  riskFlags: string[];  tags: string[];}// Chat Thread Statusexport type ThreadStatus = 'negotiating' | 'booked' | 'done';// Chat Thread Structureexport interface ChatThread {  id: string;  members: [string, string];  // [buyerUid, sellerUid]  productId: string;          // ?í’ˆ ID  status: ThreadStatus;       // ì±„íŒ… ?íƒœ  lastMessage: string;        // ë§ˆì?ë§?ë©”ì‹œì§€  lastMessageAt: any;         // ë§ˆì?ë§?ë©”ì‹œì§€ ?œê°„ (serverTimestamp)  createdAt: any;             // ?ì„±??(serverTimestamp)    // Optional fields  productTitle?: string;      // ?í’ˆëª?(ì±„íŒ… ëª©ë¡ ?œì‹œ??  productImage?: string;      // ?í’ˆ ?´ë?ì§€ (ì±„íŒ… ëª©ë¡ ?œì‹œ??  productPrice?: number;      // ?í’ˆ ê°€ê²?(ì±„íŒ… ëª©ë¡ ?œì‹œ??}// Message Structureexport interface ChatMessage {  id: string;  threadId: string;           // ì±„íŒ…ë°?ID  senderId: string;           // ë°œì‹ ??UID  text: string;               // ë©”ì‹œì§€ ?´ìš© (content ??textë¡?ë³€ê²?  type: 'text' | 'image' | 'offer'; // ë©”ì‹œì§€ ?€??  createdAt: any;             // ë°œì†¡?œê°„ (serverTimestamp)    // Optional fields for different message types  imageUrl?: string;          // ?´ë?ì§€ ë©”ì‹œì§€??ê²½ìš°  offerAmount?: number;       // ê°€ê²??œì•ˆ??ê²½ìš°  offerStatus?: 'pending' | 'accepted' | 'rejected'; // ?œì•ˆ ?íƒœ}// Product Creation Payloadexport interface CreateProductPayload {  title: string;  price: number;  category: string;  desc: string;  location?: string;  lat?: number;  lng?: number;  images: File[];}// Product Update Payloadexport interface UpdateProductPayload {  title?: string;  price?: number;  category?: string;  desc?: string;  status?: ProductStatus;  location?: string;  lat?: number;  lng?: number;  images?: string[];}// Chat Creation Payloadexport interface CreateChatPayload {  productId: string;  buyerUid: string;  sellerUid: string;  initialMessage?: string;}// Message Creation Payloadexport interface CreateMessagePayload {  threadId: string;  text: string;               // content ??textë¡?ë³€ê²?  type: 'text' | 'image' | 'offer';  imageUrl?: string;  offerAmount?: number;}// Deal Typesexport type DealMode = 'meet' | 'delivery';export type DealStatus = 'proposed' | 'accepted' | 'rejected' | 'cancelled' | 'completed';// Deal Structureexport interface Deal {  id: string;  mode: DealMode;                    // ê±°ë˜ ë°©ì‹: ì§ê±°???ëŠ” ?ë°°  price: number;                     // ê±°ë˜ ê°€ê²?  place?: string;                    // ë§Œë‚¨ ?¥ì†Œ (ì§ê±°????  meetAt?: any;                      // ë§Œë‚¨ ?œê°„ (ì§ê±°????  status: DealStatus;                // ê±°ë˜ ?íƒœ  proposedBy: string;                // ?œì•ˆ??UID  acceptedBy?: string;               // ?˜ë½??UID (?˜ë½ ??  createdAt: any;                    // ?ì„± ?œê°„  updatedAt: any;                    // ?˜ì • ?œê°„  notes?: string;                    // ì¶”ê? ë©”ëª¨}// Deal Creation Payloadexport interface CreateDealPayload {  mode: DealMode;  price: number;  place?: string;  meetAt?: Date;  notes?: string;}// Deal Update Payloadexport interface UpdateDealPayload {  status?: DealStatus;  acceptedBy?: string;  notes?: string;}// Blocking & Reporting System Typesexport interface Report {  id: string;  reporterId: string;        // ? ê³ ??UID  targetId: string;          // ? ê³  ?€??UID  reason: ReportReason;      // ? ê³  ?¬ìœ   context: string;           // ? ê³  ?ì„¸ ?´ìš©  threadId?: string;         // ê´€??ì±„íŒ…ë°?ID (? íƒ?¬í•­)  productId?: string;        // ê´€???í’ˆ ID (? íƒ?¬í•­)  createdAt: any;            // ? ê³  ?œê°„  status?: 'pending' | 'reviewed' | 'resolved'; // ? ê³  ì²˜ë¦¬ ?íƒœ}export type ReportReason =   | 'spam'           // ?¤íŒ¸/ê´‘ê³   | 'inappropriate'  // ë¶€?ì ˆ???´ìš©  | 'harassment'     // ê´´ë¡­???‘ë°•  | 'fraud'          // ?¬ê¸°/?ˆìœ„ ?•ë³´  | 'fake_product'   // ê°€ì§??í’ˆ  | 'other';         // ê¸°í?export interface CreateReportPayload {  targetId: string;  reason: ReportReason;  context: string;  threadId?: string;  productId?: string;}export interface BlockedUser {  targetUid: string;  blockedAt: any;  reason?: string;}// Profile & Reputation System Typesexport interface Profile {  uid: string;  nickname: string;  photoURL?: string;  stats: {    trades: number;        // ì´?ê±°ë˜ ??    starsSum: number;      // ë³„ì  ì´í•©    pos: number;           // ê¸ì •???„ê¸° ??    neg: number;           // ë¶€?•ì  ?„ê¸° ??  };  blocked?: { [otherUid: string]: boolean }; // ì°¨ë‹¨???¬ìš©?ë“¤  createdAt?: any;  updatedAt?: any;}export interface Review {  id: string;  threadId: string;       // ê±°ë˜ê°€ ?´ë£¨?´ì§„ ì±„íŒ…ë°?ID  writerId: string;       // ?„ê¸°ë¥??‘ì„±???¬ìš©??UID  targetId: string;       // ?„ê¸°ë¥?ë°›ëŠ” ?¬ìš©??UID  stars: number;          // ë³„ì  (1~5)  tags: string[];         // ?œê·¸??(?? "?œê°„?½ì†", "ì¹œì ˆ", "?í’ˆ?ˆì§ˆ")  comment?: string;       // ì¶”ê? ì½”ë©˜??(? íƒ?¬í•­)  createdAt: any;         // ?‘ì„± ?œê°„}export interface CreateReviewPayload {  threadId: string;  targetId: string;  stars: number;  tags: string[];  comment?: string;}export interface ProfileStats {  trades: number;  starsSum: number;  pos: number;  neg: number;  averageStars: number;   // ?‰ê·  ë³„ì   reputationScore: number; // ?‰íŒ ?ìˆ˜ (0~100)}// Market Item Data (for backward compatibility)export interface MarketDGItemData {  id: string;  title: string;  price: number;  category?: string;  desc?: string;  images?: string[];  location?: string;  lat?: number;  lng?: number;  createdAt?: any;  sellerId?: string;  status?: ProductStatus;  views?: number;  likes?: number;  analysis?: AIAnalysisResult;  analyzedAt?: Date;}// Location Dataexport interface LocationData {  lat: number;  lng: number;  placeName?: string;  address?: string;}// Voice Command Typesexport interface VoiceCommand {  transcript: string;  intent: Intent;  confidence?: number;}export type Intent =   | { type: 'OPEN_CREATE' }  | { type: 'FILTER_NEARBY'; km: number }  | { type: 'FILTER_PRICE_MAX'; max: number }  | { type: 'OPEN_DETAIL'; index: number }  | { type: 'ANALYZE_CURRENT' }  | { type: 'NEXT_PAGE' }  | { type: 'PREV_PAGE' }  | { type: 'SEARCH'; query: string }  | { type: 'FILTER_CATEGORY'; category: string }  | { type: 'SORT_BY'; field: 'price' | 'distance' | 'date' }  | { type: 'TOGGLE_FAVORITE'; index: number }  | { type: 'SHOW_FAVORITES' }  | { type: 'CLEAR_FILTERS' }  | { type: 'HELP' }  | { type: 'OPEN_CHAT'; productId: string }  | { type: 'SEND_MESSAGE'; content: string };
